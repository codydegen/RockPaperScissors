<!DOCTYPE html>
<html>
<body>
<script>
function computerPlay(){
    let choice = Math.random();
    console.log( choice );
    if (choice<1/3) {
        return  "rock";
    }else if (choice<2/3){
        return "paper";
    }else {
        return "scissors";
    }

}
function playRound(playerSelection, computerSelection) {
    console.log(playerSelection,computerSelection);
if (playerSelection=="rock" && computerSelection=="scissors" || playerSelection=="scissors" && computerSelection=="paper" || playerSelection=="paper" && computerSelection=="rock") {
    console.log("You Win! " + playerSelection[0].toUpperCase() + playerSelection.slice(1) + " beats " + computerSelection + ".");
    return 1;
} else if (playerSelection=="scissors" && computerSelection=="rock" || playerSelection=="paper" && computerSelection=="scissors" || playerSelection=="rock" && computerSelection=="paper") {
    console.log("You Lose! " + computerSelection[0].toUpperCase() + computerSelection.slice(1) + " beats " + playerSelection + ".");
    return -1;
} else {
    console.log("You tied.  You both picked " + computerSelection[0].toUpperCase() + computerSelection.slice(1) + ".");
    return 0;
}
    
}
function game(){
    let pScore = 0, cScore = 0, x = 0;
    while(pScore < 3 && cScore < 3){
        x = playRound(playerChoose(),computerPlay());
        if (x == 1){
            pScore++;
        }else if (x == -1){
            cScore++;
        }
        console.log("Score: Player: " + pScore + " Computer: " + cScore)
    }
    if (pScore == 5) {
        console.log("You win!");
    } else {
        console.log("You lose.");
    }
}
function playerChoose(){
    while(1){
    let choice = prompt("Choose rock, paper, or scissors.","");
    if (choice !==null) {
        choice=choice.toLowerCase();
        if (choice == "rock" || choice == "paper" || choice == "scissors"){
            return choice;
        } else {
            alert("You must choose rock, paper, or scissors.")
        }
    }
    }
}
game();
</script>


</body>
</html>